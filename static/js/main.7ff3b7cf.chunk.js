(this["webpackJsonpthreadder-frontend"]=this["webpackJsonpthreadder-frontend"]||[]).push([[0],{73:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(7),c=n.n(i),o=n(22),l=n(33),s=n(105),d=n(114),h=n(10),u=n.n(h),x=n(52),f={main:"#283845",light:"#395164",dark:"#22303c",contrastText:"#ffffff",contrastText2:"#e5e5e5"},m={paper:f.light,default:"#202c39"},j=Object(x.a)({palette:{primary:f,secondary:{main:"#ffc107",light:"#ffd147",dark:"#c97d02",hover:"#ffa042",inactive:"#432a01",contrastText:"#14213d",inactiveText:"#111111"},background:m},spacing:4,shape:{borderRadius:2}}),p=n(115),b=n(113),g=n(112),O=n(118),w=n(109),v=n(110),y=n(111),C=n(32),N=n(106),T=n(2),F=Object(s.a)((function(e){return{styledButton:{"&:disabled":{color:e.palette.secondary.inactiveText,backgroundColor:e.palette.secondary.inactive},"&:hover":{backgroundColor:e.palette.secondary.hover}}}}));function S(e){var t=F(),n=u()(e.className,t.styledButton);return Object(T.jsx)(N.a,Object(C.a)(Object(C.a)({},e),{},{className:n}))}var k=n(117),I=n(108),H=n(119),z=n(116),L=Object(s.a)((function(e){return{menuList:{border:"solid 1px ".concat(e.palette.primary.dark)}}}));function W(e){var t={paper:L().menuList};return Object(T.jsx)(z.a,Object(C.a)({classes:t},e))}var G=n(120),B=Object(s.a)((function(e){return{menuList:{border:"solid 1px ".concat(e.palette.primary.dark)},menuItem:{color:e.palette.primary.contrastText,"&:hover":{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main}}}}));function V(e){var t=B(),n=Object(a.useState)(null),r=Object(o.a)(n,2),i=r[0],c=r[1],l=function(){c(null)};return Object(T.jsxs)(k.a,{children:[Object(T.jsx)(I.a,{size:"small",onClick:function(e){c(e.currentTarget)},children:Object(T.jsx)(H.a,{})}),Object(T.jsxs)(W,{id:"account-settings-menu",getContentAnchorEl:null,anchorEl:i,anchorReference:"anchorEl",anchorOrigin:{horizontal:"center",vertical:"bottom"},transformOrigin:{horizontal:"center",vertical:"top"},open:Boolean(i),onClose:l,autoFocus:!1,children:[Object(T.jsx)(G.a,{className:t.menuItem,onClick:function(){l(),console.log("redirecting to twitter")},children:"Go to Twitter"}),Object(T.jsx)(G.a,{className:t.menuItem,onClick:function(){l(),console.log("logging out")},children:"Log out"})]})]})}var A=Object(s.a)((function(e){return{toolbar:{padding:"1em 1.5em"},title:{flexGrow:1}}}));function E(e){var t=A(),n=Object(T.jsx)(S,{variant:"contained",color:"secondary",onClick:function(){console.log("logging in")},disabled:!0,children:"Log in"});return Object(T.jsx)(w.a,{position:"relative",children:Object(T.jsxs)(v.a,{className:t.toolbar,children:[Object(T.jsx)(y.a,{variant:"h5",className:t.title,children:"Threadder"}),e.loggedIn?Object(T.jsx)(V,{}):n]})})}var R=Object(s.a)((function(e){return{root:{flexFlow:"column nowrap"},fullHeight:{height:"100%"},containerWithShadow:{boxShadow:e.shadows[4]},expandingFlexItem:{flex:1},fixedSizeFlexItem:{flex:0},textareaContainer:{padding:"1.5em",backgroundColor:e.palette.primary.main},threadTextarea:{fontFamily:"inherit",fontSize:"inherit",resize:"none",width:"100%",padding:"0.5em 0.75em",color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,border:0,boxShadow:"inset 0px 0px 5px 0px rgba(0, 0, 0, 0.4)","&:focus":{border:0,outline:0}},statsContainer:{padding:"1em 1.5em",display:"flex",flexFlow:"row nowrap",justifyContent:"space-between",backgroundColor:e.palette.primary.dark},statsText:{color:e.palette.primary.contrastText2}}}));function U(e){var t=R();return Object(T.jsxs)(g.a,{container:!0,spacing:2,className:u()(t.root,t.fullHeight),children:[Object(T.jsx)(g.a,{item:!0,xs:12,className:u()(t.expandingFlexItem,t.fullHeight),children:Object(T.jsx)(b.a,{className:u()(t.textareaContainer,t.fullHeight,t.containerWithShadow),children:Object(T.jsx)("textarea",{className:u()(t.threadTextarea,t.fullHeight),onChange:e.handleTweetInput,placeholder:"Type your tweet here...",value:e.tweetText})})}),Object(T.jsx)(g.a,{item:!0,xs:12,className:t.fixedSizeFlexItem,children:Object(T.jsxs)(b.a,{className:u()(t.statsContainer,t.containerWithShadow),children:[Object(T.jsx)(y.a,{variant:"body2",className:t.statsText,children:"Characters: ".concat(e.tweetText.length)}),Object(T.jsx)(y.a,{variant:"body2",className:t.statsText,children:"Tweets: ".concat(e.thread.length)})]})}),Object(T.jsx)(O.a,{mdUp:!0,children:Object(T.jsx)(g.a,{item:!0,xs:12,className:t.fixedSizeFlexItem,children:Object(T.jsx)(S,{variant:"contained",color:"secondary",fullWidth:!0,onClick:e.viewThreadHandler,children:"View thread"})})})]})}var D=Object(s.a)((function(e){return{root:{marginBottom:"1.5em",flexFlow:"row nowrap","&:last-child":{marginBottom:0}},expandingFlexItem:{flex:1},fixedSizeFlexItem:{flex:0},verticalGrid:{display:"flex",flexFlow:"column nowrap"},centerVerticalGridItems:{alignItems:"center"},threadLineContainer:{padding:0},threadLine:{width:"2px",height:"calc(100% + 1.5em)",backgroundColor:e.palette.background.default},tweetContainer:{marginLeft:"1em"},resetFont:{fontFamily:"inherit",fontSize:"inherit"},defaultTextColor:{color:e.palette.primary.contrastText},userName:{fontWeight:"bold"},userHandle:{color:e.palette.primary.contrastText2,marginLeft:"0.5em"},tweetText:{padding:0,margin:0,marginTop:"0.25em",whiteSpace:"pre-wrap",overflowWrap:"break-word"},hiddenOverflow:{overflow:"hidden"}}}));function J(e){var t=D();return Object(T.jsxs)(g.a,{container:!0,className:t.root,children:[Object(T.jsxs)(g.a,{container:!0,className:u()(t.fixedSizeFlexItem,t.verticalGrid,t.centerVerticalGridItems),children:[Object(T.jsx)(g.a,{item:!0,children:Object(T.jsx)(H.a,{})}),e.threadLine&&Object(T.jsx)(g.a,{item:!0,className:u()(t.expandingFlexItem,t.threadLineContainer),children:Object(T.jsx)("div",{className:t.threadLine})})]}),Object(T.jsxs)(g.a,{container:!0,className:u()(t.expandingFlexItem,t.verticalGrid,t.tweetContainer,t.hiddenOverflow),children:[Object(T.jsxs)(g.a,{item:!0,children:[Object(T.jsx)("span",{className:u()(t.resetFont,t.defaultTextColor,t.userName),children:e.user.name}),Object(T.jsx)("span",{className:u()(t.resetFont,t.userHandle),children:"@".concat(e.user.handle)})]}),Object(T.jsx)(g.a,{item:!0,children:Object(T.jsx)("p",{className:u()(t.resetFont,t.defaultTextColor,t.tweetText),children:e.text})})]})]})}var M=Object(s.a)((function(e){return{root:{flexFlow:"column nowrap"},fullHeight:{height:"100%"},containerWithShadow:{boxShadow:e.shadows[4]},expandingFlexItem:{flex:1},fixedSizeFlexItem:{flex:0},autoOverflow:{overflow:"auto"},hiddenOverflow:{overflow:"hidden"},tweetsContainer:{padding:"1.5em",backgroundColor:e.palette.primary.main},buttonRowContainer:{display:"flex",flexFlow:"row nowrap",justifyContent:"space-between",gap:"1em",margin:0,padding:0}}}));function q(e){var t=M(),n=e.thread.map((function(t,n,a){return Object(T.jsx)(J,{user:e.user,text:t,threadLine:n+1<a.length},t)}));return Object(T.jsxs)(g.a,{container:!0,spacing:2,className:u()(t.root,t.fullHeight,t.hiddenOverflow),children:[Object(T.jsx)(g.a,{item:!0,xs:12,className:u()(t.expandingFlexItem,t.fullHeight,t.hiddenOverflow),children:Object(T.jsx)(b.a,{className:u()(t.tweetsContainer,t.fullHeight,t.containerWithShadow,t.autoOverflow),children:n})}),Object(T.jsx)(g.a,{item:!0,xs:12,className:t.fixedSizeFlexItem,children:Object(T.jsxs)(b.a,{className:u()(t.buttonRowContainer,t.fullHeight),children:[Object(T.jsx)(O.a,{mdUp:!0,children:Object(T.jsx)(S,{variant:"contained",color:"secondary",fullWidth:!0,onClick:e.editThreadHandler,children:"Edit thread"})}),Object(T.jsx)(S,{variant:"contained",color:"secondary",disabled:!n.length>0,fullWidth:!0,children:"Publish thread"})]})})]})}var P=280;function $(e){return e.replace(/^[ \t]*/,"").replace(/[ \t]*$/,"")}function _(e){return e.split(/\.(?=\s?[\w\n]+)/g).filter((function(e){return""!==e})).join(". ").split(/(?<=\.)\s/g).map((function(e){return $(e)}))}function K(e){if(0===e.length)return[];for(var t=[],n=0;n<e.length;n++)if(0!==n){var a=t.length-1,r=t[a],i=e[n];r.length<=70||r.length+i.length<=P?(r+=i.startsWith("\n")?i:" ".concat(i),t[a]=r):t.push(e[n])}else t.push(e[n]);return t}function Q(e){return e.split("\n").filter((function(e){return""!==e}))}var X=n(45),Y=n(51);function Z(e){if(e.length<=P)return e;for(var t=Math.ceil(e.length/277),n=[],a=0;a<t;a++){var r=277*a,i=277*(a+1),c=e.slice(r,i)+"...";n.push(c)}return n}function ee(e){return"..."===e.slice(e.length-3)?e.slice(0,e.length-3):e}function te(e){for(var t=[],n=0;n<e.length;n++){var a=e[n];if(0!==n){var r=t.length-1,i=ee(t[r]);i.length+a.length+1<=P?t[r]="".concat(i," ").concat(a):t.push(a)}else t.push(a)}return t}function ne(e){var t=e.trim().split("(---)").map((function(e){return e.trim()}));if(ae(t))return t;var n=t.map((function(e){return e.length<=P?e:function(e){var t=K(_(e));return t.every((function(e){return e.length<=P}))?t:t.map((function(e){return e.length<=P?e:Q(e)})).flat().map((function(e){return e.trim()}))}(e)})).flat().map((function(e){return e.trim()}));return ae(n)?n:n.map((function(e){return e.length<=P?e:function(e){if(e.length<=P)return e;var t,n=e.split(" ").filter((function(e){return 0!==e.length})),a="",r=[],i=Object(Y.a)(n);try{for(i.s();!(t=i.n()).done;){var c=t.value.trim();c.length>P?(a.length>0&&(r.push("".concat(a,"...")),a=""),r=[].concat(Object(X.a)(r),Object(X.a)(Z(c)))):0===a.length?a+=c:a.length+c.length+1<277?a+=" ".concat(c):(r.push("".concat(a,"...")),a=c)}}catch(l){i.e(l)}finally{i.f()}a.length>0&&r.push(a);var o=r.length-1;return r[o]=ee(r[o]),te(r)}(e)})).flat().map((function(e){return e.trim()}))}function ae(e){return e.every((function(e){return e.length<=P}))}var re=Object(s.a)((function(e){return{root:{height:"100vh",maxHeight:"100vh"},gridContainer:{flexFlow:"column nowrap",height:"100%"},appHeader:{flex:0},appView:Object(l.a)({flex:1},e.breakpoints.up("md"),{display:"flex",flexFlow:"row nowrap",gap:e.spacing(1.5)}),mainArea:{height:"100%"},hiddenOverflow:{overflow:"hidden"}}}));function ie(e){var t=re(),n=Object(a.useState)(!1),r=Object(o.a)(n,2),i=r[0],c=(r[1],Object(a.useState)({name:"Untitled User",handle:"untitled_user"})),l=Object(o.a)(c,2),s=l[0],h=(l[1],Object(a.useState)("")),x=Object(o.a)(h,2),f=x[0],m=x[1],w=Object(a.useState)([]),v=Object(o.a)(w,2),y=v[0],C=v[1],N=Object(a.useState)(!0),F=Object(o.a)(N,2),S=F[0],k=F[1],I=function(){k(!S)};return Object(T.jsx)(d.a,{theme:j,children:Object(T.jsx)(p.a,{children:Object(T.jsx)(b.a,{className:t.root,children:Object(T.jsxs)(g.a,{container:!0,spacing:3,className:t.gridContainer,children:[Object(T.jsx)(g.a,{item:!0,xs:12,className:t.appHeader,children:Object(T.jsx)(E,{loggedIn:i})}),Object(T.jsxs)(g.a,{item:!0,xs:12,className:u()(t.appView,t.hiddenOverflow),children:[Object(T.jsx)(O.a,{smDown:!S,children:Object(T.jsx)(g.a,{item:!0,xs:12,md:7,className:u()(t.mainArea,t.hiddenOverflow),children:Object(T.jsx)(U,{tweetText:f,handleTweetInput:function(e){var t=e.target.value;m(t),0===t.length?C([]):C(ne(e.target.value))},thread:y,viewThreadHandler:I})})}),Object(T.jsx)(O.a,{smDown:S,children:Object(T.jsx)(g.a,{item:!0,xs:12,md:5,className:u()(t.mainArea,t.hiddenOverflow),children:Object(T.jsx)(q,{user:s,thread:y,editThreadHandler:I})})})]})]})})})})}n(73);c.a.render(Object(T.jsx)(r.a.StrictMode,{children:Object(T.jsx)(ie,{})}),document.querySelector("#root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.7ff3b7cf.chunk.js.map